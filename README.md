# Lab Assignment 04, Due on [Canvas](https://psu.instructure.com/courses/2174978), Feb. 9 at 11:59pm
## Simulation-based hypothesis testing for coin flip sequences

The main objective of today's lab is to test a hypothesis using a statistic that is very difficult to analyze theoretically but relatively easy to simulate.  A secondary objective is to give you a bit of practice writing and adapting code; if you're new to programming, this assignment may stretch you a bit but please seek help as needed because we don't intend for the programming to become a major obstacle.

**Before you start**:  Without using any kind of a computer, write down a sequence of 100 coin flips that you generate yourself.  This sequence should mimic a random sequence of coin flips as well as you're able to do so.

Once you've written down your sequence, count the number of changes (from Heads to Tails or Tails to Heads) in your sequence.  For example, the sequence H, H, T, T, H, H, T has three changes.

**A quick note on the big picture here**:  An old trick sometimes used by instructors of probability classes is to assign students, as homework, to flip a coin 100 times and record the results.  It's often the case that the instructor can detect those who actually did the assignment and those who cheated by writing down what they thought to be a random-looking sequence of 100 coin flips.  Now that we've begun Chapter 11, we have the tools available to try playing the role of the instructor using sheer computing power along with a bit of knowledge of testing hypotheses.

Nearly all of the code you should need is in Sections 9.3 and 11.1 of the textbook.  When you turn in your work, it should not contain any irrelevant text and code boxes; therefore, if you use the textbook as the basis for your work, please delete text and code boxes unrelated to the assignment before you turn in your lab.

**Objective**:  Simulate the distribution of changes for a sequence of 100 coin flips under a model that says the flips are truly random.  Then compare the statistic you have generated by hand with that distribution to see whether that statistic seems suspiciously too extreme to have arisen from that model.

**Your assignment** is as follows:

1. In a text box, report the value of the number of changes you counted by hand in the "before you start" section.  As always, whatever you write should use clear, complete sentences. 

2. Write a bit of code that will simulate 100 random, independent coin flips.  Check Section 9.3 for some guidance on this.  Demonstrate your code by including output from one sequence of 100 flips.

3. Write code that will count the number of changes (Heads to Tails or Tails to Heads) in a sequence of coin flips.    Hint:  You can change the sequence to True/False by using
```
my_sequence == 'Heads' 
```
Once you have changed Heads/Tails to True/False, try figuring out a way to use the np.diff method followed by the np.sum method to count the number of changes.  Notice: Typing "np" will only work if your code at the top of the your notebook includes this line:
```
import numpy as np
```

4. Simulate at least 10,000 sequences of 100 coin flips, and produce a histogram of the change statistics simulated under the model of random, independent flips.  Include the observed value of the change statistic from part 1 as a red dot, as seen in Section 11.1.

5. In statistics, the definition of a p-value is this:  The p-value is the probability under the hypothesized model of a statistic at least as extreme as the one observed.  Use your output to calculate a p-value in this example.  (The "hypothesized model" here is that the flips are truly random and independent.)

6. In a text box, explain your reasoning as to whether you think this procedure shows that the hypothesized model can be rejected as having led to the sequence you produced by hand at the beginning.  

7. _Optional, for up to 1 extra point_.  Use a different statistic to test your hand-created sequence:  The length of the longest string of flips without a change.  Follow the same procedure as above, namely, simulate the distribution of the statistic from the model and then compare the observed statistic to obtain a p-value.

8. _Optional, for up to 1 extra point_.  In a sequence of n coin flips, consider the question of the expected number (mean) of the longest string of flips without a change.  Simulate an approximation to this mean for n=100, 200, ..., 1000 and plot the result graphically.   

When you've completed this, you should select "Print" from the File menu, then somehow save to pdf using this option.  The pdf file that you create in this way is the file that you should upload to Canvas for grading.  Recall that sometimes the right side of the notebooks are chopped off by this print procedure, but we have found that if you can select the "A3" paper size from the advanced options, this seems to solve the problem.
